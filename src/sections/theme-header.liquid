<!-- /snippets/{{ section.id }}.liquid -->
{% assign enable_search = section.settings.enable_search %}

<header class="Header" role="banner">
  <div class="container Header__container">
    <div class="Header__user-row row collapse">
      <div class="column l6 left">
        <div class="Header__decoration Text--border-style">{{section.settings.tagline}}</div>
        <div class="Header__hamburger js-mobileNavTrigger js-cartClose">
          {% include 'custom-icon' with icon:'hamburger' %}
        </div>
      </div>
      <div class="column l6 right">
        <div class="Header__content">
          <span class="Header__search Header__icon">
            <span class="Header__search-trigger js-headerSearch">{% include 'custom-icon' with icon:'search' %}</span>
            <form class="search" action="/search">
              <input type="hidden" name="type" value="product">
              <button type="submit">{% include 'custom-icon' with icon:'search' %}</button>
              <input type="text" placeholder="Search..." name="q" value="{{ search.terms | escape }}"  />
            </form>
          </span>
          <span class="Header__user Header__icon ">
            {% if customer %}
              <a href="/account">
                {% include 'custom-icon' with icon:'user' %}
              </a>
            {% else %}
              <a href="/account">
                {% include 'custom-icon' with icon:'user' %}
              </a>
            {% endif %}
          </span>
          <a data-cart-view href="/cart" id="CartLink" aria-controls="Cart" aria-expanded="false" class="Header__cart Header__icon js-cartTrigger v-middle">
            <span class="Header__cart-price" data-cart-total rv-text="cart.total_price | money_with_currency"></span>
            <span class="Header__cart--desktop">{% include 'custom-icon' with icon:'cart' %}</span>
            <span class="Header__cart--mobile">{% include 'custom-icon' with icon:'dark-cart' %}</span>
          </a>
        </div>
      </div>
    </div>
    <div class="Header__logo-container">
      <div class="Header__logo">
        {% include 'theme-logo' %}
      </div>
      <div class="Nav__row row flex v-center h-space-between s-hide">
        <div class="column l12 m12 s12">
          {% include 'theme-nav-main' %}
        </div>
      </div>
    </div>
  </div>
</header>
{% assign noHeaderMargin = 'index,blog,customers/register,customers/login,page.about' %}
{% unless noHeaderMargin contains template %}
<style>
.Header{
  margin-bottom: 100px;
}
@media screen and (max-width: 800px){
  .Header{
    margin-bottom: 30px;
  }  
}

</style>
{% endunless %}
{% include 'theme-nav-toggled' %}

{% schema %}
  {
    "name": "Header",
    "settings": [
      {
        "type": "header",
        "content": "Header"
      },
      {
        "type":"text",
        "id":"tagline",
        "label":"Tagline",
        "default":"110 Years of Professional Quality"
      },
      {
        "type": "checkbox",
        "id": "enable_search",
        "label": "Enable search",
        "default": true
      },
      {
        "type":"product",
        "id":"featured_product",
        "label":"Featured Product"
      }
    ]
  }
{% endschema %}

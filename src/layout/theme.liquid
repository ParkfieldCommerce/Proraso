<!doctype html>

  <!-- ===========================================================================
  Feel free to add your own header, but please keep the following:
   ___  _   _    _
  /   || | | |  | |
  \__  | | | |  | |  __
  /    |/  |/_) |/  /  \_/\/
  \___/|__/| \_/|__/\__/  /\_/
                |\
                |/
  Concrete v2.0.5
  https://github.com/Elkfox/Concrete
  Copyright (c) 2017 Elkfox Co Pty Ltd
  https://elkfox.com
  MIT License
  ============================================================================ -->

  <!--[if IE 9]><html class="ie9 no-js" lang="{{ shop.locale }}"><![endif]-->
  <!--[if (gt IE 9)|!(IE)]><!--><html class="no-js" lang="{{ shop.locale }}"><!--<![endif]-->

  <head>
    <!-- META ================================================================ -->
    {% include 'meta-theme' %}
    {% include 'meta-social' %}
    {% include 'meta-favorites' %}

    <!-- Shopify ============================================================= -->
    {{ content_for_header }}

    <!-- CSS ================================================================= -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" integrity="sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ" crossorigin="anonymous">
    {{ 'app.scss.css' | asset_url | stylesheet_tag }}

    <!-- JavaScript =========================================================== -->
    {% if shop.customer_accounts_enabled and template contains 'customers' %}
      {{ 'shopify_common.js' | shopify_asset_url | script_tag }}
    {% endif %}
    {{ 'vendor.js' | asset_url | script_tag }}
    <!--[if (gt IE 9)|!(IE)]><!--><script src="{{ 'app.js' | asset_url }}" defer="defer"></script><!--<![endif]-->
    <!--[if lte IE 9]><script src="{{ 'app.js' | asset_url }}"></script><![endif]-->
  </head>

  <body id="{{ page_title | handle }}" class="{% if customer %}customer-logged-in {% endif %}template-{{ template | replace: '.', ' ' | truncatewords: 1, '' | handle }}{% if template.suffix != null %} suffix-{{ template.suffix }}{% endif %}" itemscope itemtype="http://schema.org/WebSite">
    {% section 'promobar' %}
    {% section 'theme-header' %}

    <main id="MainContent" role="main">
      {{ content_for_layout }}
    </main>

    {% section 'theme-footer' %}
    {% include 'popup-cart' %}
    {% include 'popup-error' %}
    {% include 'quickview-popup' %}
    {% if customer %}
      {% include 'popup-account' %}
    {% endif %}

    <script type="text/javascript">
      CartJS.init({{ cart | json }});
      // Cart error handling
      $(document).on('cart.requestComplete', function(event, cart) {
        {% unless template == 'cart' %}
          cartPopup.show();
        {% endunless %}
      });
      //Quickadd Button Logic for Collection Products
      $('.js-quickAdd').click(function(){
        var button = $(this);
        var variantId = button.data('variant-id');
        CartJS.addItem(variantId, 1, {}, {
          // Define a success callback to display a success message.
          "success": function(data, textStatus, jqXHR) {
            button.addClass('Btn--added');
            button.html('<span class="CollectionProduct__button-text">Added <i class="fas fa-check"></i></span>');
            setTimeout(function(){
              button.removeClass('Btn--added');
              button.html('Buy');
            }, 3000);
          },
          "error": function(jqXHR, textStatus, errorThrown) {
            console.log(jqXHR);
          }
        });
      });

    </script>
  </body>

</html>
